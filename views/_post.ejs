<!-- it is a partial  -->
<!--  the code for posts will be here -->
<li id="post-<%= post._id %>">
    <!-- here user is the field in post schema and 
    name is one of its property.  -->
    <!-- here post is the iterating variable -->
    <p><%= post.user.name %></p>
   
    <p><%= post.content %>

    <!--checking if current logged in user id with the user id who created the post-->
    <%  if( locals.user && locals.user.id == post.user.id){ %>
    <a class="delete-post-button" href="/posts/destroy/<%= post._id %>">x</a>
    
    <%  }  %>
    </p>

    <div class="post-comments">
        
        <!-- if condition is added for authentication purpose -->
        <% if(locals.user){ %>

        <form action="/comments/create" method="POST">
            <input type="text" name="content" placeholder="Type here to add a comment..." required>
               <!-- sending the id of the post below which comment needs to be added -->
            <input type="hidden" name="post" value="<%= post._id %>">
            <input type="submit" value="Add Comment">

        </form>

        <% } %>
        <div class="post-comments-list">
            <ul id="post-comments-<%= post._id%>">
                <!-- here 'post' in 'post.comment' is the iterating  varible in the above for loop-->
                <% for( comment of post.comments) { %>
                    <!-- using parials  here -->
                    <%- include('_comment'); %>
                <% } %>
            </ul>
        </div>
    </div>
</li>